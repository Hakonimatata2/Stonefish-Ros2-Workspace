<?xml version="1.0"?>
<scenario>

 
    <!-- Ocean -->
    <environment>
        <ned latitude="40.0" longitude="3.0"/> 
        <!-- ocean definitions -->
            <ocean>
            <water density="1031.0" jerlov="0.35" temperature="15.0"/>
            <waves height="0.0"/>
            <particles enabled="true"/>
        </ocean>
    </environment>

    <!-- Atmosphere -->
    <atmosphere>
        <sun azimuth="180.0" elevation="70.0"/>
    </atmosphere>

    <!-- Materials and looks -->
    <materials>
		<material name="Rock" density="3000.0" restitution="0.6"/>
		<material name="NetMaterial" density="3000.0" restitution="0.8"/>
    </materials>
    <looks>
        <look name="seabed" rgb="0.7 0.7 0.5" roughness="0.9" normal_map="sand_normal.png"/>
        <look name="black" rgb="0.0 0.0 0.0" roughness="1.0"/>
        <look name="ropeTexture" gray="1.0" roughness="0.5" normal_map="FishNetEnv/single_rope_normal_map.png"/>
        <look name="netTexture" rgb="0.2 0.2 0.2" roughness="0.5" normal_map="FishNetEnv/fibre_texture.png"/>
    </looks>
    

    <!-- Seabed -->
    <static name="Seabed" type="terrain">
        <height_map filename="terrain.png"/>
        <dimensions scalex="1.0" scaley="1.0" height="5.0"/>
        <material name="Rock"/>
        <look name="seabed"/>
        <world_transform xyz="0.0 0.0 15.0" rpy="0.0 0.0 0.0"/>
    </static>

    <!-- Net cage -->

    <static name="Net" type="model">
        <physical>
            <!-- <mesh filename="FishNetEnv/Fish_net_flat_1.obj" scale="1.0" convex="false"/> -->
            <mesh filename="FishNetEnv/Fish_net_optimized_128_uv.obj" scale="1.0" convex="false"/>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        </physical>
        <visual>
            <!-- <mesh filename="FishNetEnv/Fish_net_optimized_uv.obj" scale="1.0"/> -->
            <!-- <mesh filename="FishNetEnv/Fish_net_optimized_uv_normals_flipped.obj" scale="1.0"/> -->
            <mesh filename="FishNetEnv/Fish_net_optimized_128_uv.obj" scale="1.0"/>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        </visual>
        <material name="NetMaterial"/>
        <look name="netTexture"/>
        <world_transform xyz="0.0 0.0 0.0" rpy="-1.57079632679 0.0 0.0"/>
    </static>

    <static name="Top" type="model">
        <physical>
            <mesh filename="FishNetEnv/Net_cage_top_r25m.obj" scale="1.0" convex="false"/>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        </physical>
        <visual>
            <mesh filename="FishNetEnv/Net_cage_top_r25m.obj" scale="1.0"/>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
        </visual>
        <material name="NetMaterial"/>
        <look name="black"/>
        <world_transform xyz="0.0 0.0 0.0" rpy="-1.57079632679 0.0 0.0"/>
    </static>


    <!-- Include robot -->
    <!-- <include file="$(find simulator)/scenarios/bluerov2_robot.scn">
        <arg name="robot_name" value="BlueROV2_ResiFarm"/>
        <arg name="position" value="0.0 0.0 2.0"/>
        <arg name="orientation" value="0.0 0.0 0.0"/>
    </include> -->

    <!-- Include animated robot -->
    <include file="$(find simulator)/scenarios/bluerov2_robot_animated.scn">
        <arg name="robot_name" value="BlueROV2_ResiFarm"/>
    </include>
    
</scenario>
